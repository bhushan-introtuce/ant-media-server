(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{W7GC:function(e,t){},iNK9:function(e,t,a){"use strict";a.r(t),a.d(t,"ClusterRoutes",(function(){return de})),a.d(t,"ClusterModule",(function(){return ue}));var n,o,c=a("tyNb"),i=a("ofXK"),s=a("3Pt+"),l=a("tk/3"),r=a("BWpK"),b=a("XGgE"),d=a("Dh3D"),u=a("+0xr"),f=(a("EUDy"),a("W7GC"),a("fXoL")),p=a("0IaG"),m=a("M9IT"),g=a("mrSG");function h(e,t){1&e&&(f.Sb(0,"mat-header-cell"),f.Jc(1," Node IP "),f.Rb())}function S(e,t){if(1&e&&(f.Sb(0,"mat-cell"),f.Jc(1),f.Rb()),2&e){var a=t.$implicit;f.Bb(1),f.Lc(" ",a.ip," ")}}function C(e,t){1&e&&(f.Sb(0,"mat-header-cell"),f.Jc(1," CPU(%) "),f.Rb())}function v(e,t){if(1&e&&(f.Sb(0,"mat-cell"),f.Jc(1),f.Rb()),2&e){var a=t.$implicit;f.Bb(1),f.Lc(" ",a.cpu," ")}}function w(e,t){1&e&&(f.Sb(0,"mat-header-cell"),f.Jc(1," Memory(MB) - Used/Total "),f.Nb(2,"br"),f.Rb())}function R(e,t){if(1&e&&(f.Sb(0,"mat-cell"),f.Jc(1),f.Rb()),2&e){var a=t.$implicit;f.Bb(1),f.Lc(" ",a.memory," ")}}function N(e,t){1&e&&(f.Sb(0,"mat-header-cell"),f.Jc(1," Last Heartbeat "),f.Rb())}function y(e,t){if(1&e&&(f.Sb(0,"mat-cell"),f.Jc(1),f.kc(2,"date"),f.Rb()),2&e){var a=t.$implicit;f.Bb(1),f.Lc(" ",f.mc(2,1,a.lastUpdateTime,"yyyy-MM-dd HH:mm:ss")," ")}}function I(e,t){1&e&&(f.Sb(0,"mat-header-cell"),f.Jc(1,"Status "),f.Rb())}function D(e,t){1&e&&(f.Qb(0),f.Nb(1,"span",22),f.Jc(2,"\xa0 Live "),f.Pb())}function H(e,t){1&e&&(f.Nb(0,"span",23),f.Jc(1,"\xa0 Inaccessible "))}function z(e,t){if(1&e&&(f.Sb(0,"mat-cell"),f.Hc(1,D,3,0,"ng-container",20),f.Hc(2,H,2,0,"ng-template",null,21,f.Ic),f.Rb()),2&e){var a=t.$implicit,n=f.xc(3);f.Bb(1),f.qc("ngIf","alive"==a.status)("ngIfElse",n)}}function T(e,t){1&e&&(f.Sb(0,"mat-header-cell"),f.Jc(1," Actions"),f.Rb())}function x(e,t){if(1&e){var a=f.Tb();f.Sb(0,"mat-cell"),f.Sb(1,"button",24),f.fc("click",(function(){f.zc(a);var e=t.$implicit;return f.jc(2).deleteNode(e.id)})),f.Sb(2,"span",25),f.Nb(3,"i",26),f.Rb(),f.Qb(4),f.Wb(5,n),f.Pb(),f.Rb(),f.Rb()}}function M(e,t){1&e&&f.Nb(0,"mat-header-row")}function B(e,t){1&e&&f.Nb(0,"mat-row")}function O(e,t){if(1&e){var a=f.Tb();f.Sb(0,"div",6),f.Sb(1,"div",7),f.Sb(2,"mat-table",8),f.Qb(3,9),f.Hc(4,h,2,0,"mat-header-cell",10),f.Hc(5,S,2,1,"mat-cell",11),f.Pb(),f.Qb(6,12),f.Hc(7,C,2,0,"mat-header-cell",10),f.Hc(8,v,2,1,"mat-cell",11),f.Pb(),f.Qb(9,13),f.Hc(10,w,3,0,"mat-header-cell",10),f.Hc(11,R,2,1,"mat-cell",11),f.Pb(),f.Qb(12,14),f.Hc(13,N,2,0,"mat-header-cell",10),f.Hc(14,y,3,4,"mat-cell",11),f.Pb(),f.Qb(15,15),f.Hc(16,I,2,0,"mat-header-cell",10),f.Hc(17,z,4,2,"mat-cell",11),f.Pb(),f.Qb(18,16),f.Hc(19,T,2,0,"mat-header-cell",10),f.Hc(20,x,6,0,"mat-cell",11),f.Pb(),f.Hc(21,M,1,0,"mat-header-row",17),f.Hc(22,B,1,0,"mat-row",18),f.Rb(),f.Sb(23,"mat-paginator",19),f.fc("page",(function(e){return f.zc(a),f.jc().onPaginateChange(e)})),f.Rb(),f.Rb(),f.Rb()}if(2&e){var n=f.jc();f.Bb(2),f.qc("dataSource",n.dataSourceNode),f.Bb(19),f.qc("matHeaderRowDef",n.nodeColumns),f.Bb(1),f.qc("matRowDefColumns",n.nodeColumns),f.Bb(1),f.qc("length",n.nodeLength)("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions)}}function P(e,t){1&e&&(f.Sb(0,"div",27),f.Sb(1,"div",28),f.Sb(2,"p"),f.Wb(3,o),f.Rb(),f.Rb(),f.Rb())}n=$localize(g.a([":@@deleteNodeButton\u241f826b25211922a1b46436589233cb6f1a163d89b7\u241f7022070615528435141:Delete"],[":@@deleteNodeButton\u241f826b25211922a1b46436589233cb6f1a163d89b7\u241f7022070615528435141:Delete"])),o=$localize(g.a([":no cluster node | text messages appears when no node@@noNodeExistsMessage\u241ff62e8e254076975df05ec10d10b9e92169c26b8d\u241f2757926870653264881: There is no cluster node. "],[":no cluster node | text messages appears when no node@@noNodeExistsMessage\u241ff62e8e254076975df05ec10d10b9e92169c26b8d\u241f2757926870653264881: There is no cluster node. "]));var J=function(){function e(e,t,a,n,o,c,i,s){this.http=e,this.route=t,this.clusterRestService=a,this.renderer=n,this.router=o,this.dialog=c,this.cdr=i,this.matpage=s,this.nodeColumns=["nodeIp","cpu","memory","lastUpdateTime","inTheCluster","actions"],this.pageSize=10,this.pageSizeOptions=[10,25,50],this.pageIndex=0,this.currentOffset=0,this.dataSourceNode=new u.k}return e.prototype.setPageSizeOptions=function(e){this.pageSizeOptions=e.split(",").map((function(e){return+e}))},e.prototype.ngOnInit=function(){this.nodeTableData={dataRows:[]}},e.prototype.onPaginateChange=function(e){console.log("cluster page index:"+e.pageIndex+" length: "+e.length+" pageSize:"+e.pageSize),this.pageIndex=e.pageIndex,this.pageSize=e.pageSize,this.currentOffset=e.pageIndex*this.pageSize,this.getClusterNodes(this.currentOffset,this.pageSize)},e.prototype.ngAfterViewInit=function(){var e=this;this.getClusterNodeCount(),this.getClusterNodes(0,this.pageSize),this.timerId=window.setInterval((function(){e.getClusterNodeCount(),e.getClusterNodes(e.currentOffset,e.pageSize)}),1e4)},e.prototype.ngOnDestroy=function(){this.timerId&&clearInterval(this.timerId)},e.prototype.getClusterNodeCount=function(){var e=this;this.clusterRestService.getClusterNodeCount().subscribe((function(t){e.nodeLength=t.number}))},e.prototype.getClusterNodes=function(e,t){var a=this;this.clusterRestService.getClusterNodes(e,t).subscribe((function(e){for(var t in a.nodeTableData.dataRows=[],e)a.nodeTableData.dataRows.push(e[t]);a.dataSourceNode=new u.k(a.nodeTableData.dataRows)}))},e.prototype.deleteNode=function(e){var t=this;swal({title:b.a.getLocaleInterface().are_you_sure,text:b.a.getLocaleInterface().wont_be_able_to_revert,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(){var a=t.nodeTableData.dataRows.find((function(t){return t.id==e}));t.clusterRestService.deleteClusterNodes(a).subscribe((function(e){1==e.success||t.showNodeNotDeleted(),t.getClusterNodes(t.currentOffset,t.pageSize)}))})).catch((function(){}))},e.prototype.showNodeNotDeleted=function(){$.notify({icon:"ti-save",message:"Node can not be deleted."},{type:"warning",delay:900,placement:{from:"top",align:"right"}})},e.\u0275fac=function(t){return new(t||e)(f.Mb(l.b),f.Mb(c.a),f.Mb(r.a),f.Mb(f.G),f.Mb(c.c),f.Mb(p.b),f.Mb(f.h),f.Mb(m.b))},e.\u0275cmp=f.Gb({type:e,selectors:[["app-cluster"]],viewQuery:function(e,t){var a;1&e&&f.Oc(d.a,!0),2&e&&f.wc(a=f.gc())&&(t.sort=a.first)},inputs:{pageEvent:"pageEvent"},outputs:{pageChange:"pageChange"},decls:6,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-12","col-sm-12"],["id","nodeTable","style","text-align: left",4,"ngIf"],["class","card",4,"ngIf"],["id","nodeTable",2,"text-align","left"],[1,"mat-container","mat-elevation-z1"],[3,"dataSource"],["matColumnDef","nodeIp"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","cpu"],["matColumnDef","memory"],["matColumnDef","lastUpdateTime"],["matColumnDef","inTheCluster"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions","page"],[4,"ngIf","ngIfElse"],["showDead",""],[1,"dot","btn-success"],[1,"dot","btn-danger"],["type","button",1,"btn","btn-simple","btn-magnify","btn-danger",3,"click"],[1,"btn-label"],[1,"ti-close"],[1,"card"],[1,"card-content","text-center"]],template:function(e,t){1&e&&(f.Sb(0,"div",0),f.Sb(1,"div",1),f.Sb(2,"div",2),f.Sb(3,"div",3),f.Hc(4,O,24,6,"div",4),f.Hc(5,P,4,0,"div",5),f.Rb(),f.Rb(),f.Rb(),f.Rb()),2&e&&(f.Bb(4),f.qc("ngIf",t.nodeTableData.dataRows.length>0),f.Bb(1),f.qc("ngIf",0==t.nodeTableData.dataRows.length))},directives:[i.n,u.j,u.c,u.e,u.b,u.g,u.i,m.a,u.d,u.a,u.f,u.h],pipes:[i.f],styles:[".dot[_ngcontent-%COMP%]{height:12px;width:12px;border-radius:50%;display:inline-block}"]}),e}(),k=a("zkoq"),L=a("NFeN"),q=a("qFsG"),Q=a("MutI"),E=a("STbY"),G=a("FKr1"),j=a("d3UM"),U=a("QibW"),W=a("Xa2L"),_=a("bv9b"),K=a("Qu3c"),X=a("/t3+"),A=a("wZkO"),F=a("xHqg"),V=a("dNgK"),Y=a("1jcm"),Z=a("5RNC"),ee=a("XhcP"),te=a("/1cH"),ae=a("bTqV"),ne=a("jaxi"),oe=a("Wp6s"),ce=a("bSwM"),ie=a("A5z7"),se=a("iadO"),le=a("f0Cb"),re=a("7EHt"),be=a("kmnG"),de=[{path:"",component:J,pathMatch:"full"}],ue=function(){function e(){}return e.\u0275mod=f.Kb({type:e}),e.\u0275inj=f.Jb({factory:function(t){return new(t||e)},imports:[[c.f.forChild(de),i.c,be.d,q.b,ce.a,p.f,s.f,l.c,p.f,ce.a,q.b,te.a,ae.b,ne.a,oe.a,ie.a,se.a,le.a,re.a,k.b,L.b,Q.d,E.a,G.m,m.c,_.a,W.a,U.a,G.t,j.b,ee.a,Z.a,Y.a,V.a,d.c,F.a,u.l,A.a,X.a,K.b],ce.a,p.f,be.d,q.b,p.f,ce.a,be.d,q.b,te.a,ae.b,ne.a,oe.a,ie.a,se.a,le.a,re.a,k.b,L.b,Q.d,E.a,G.m,m.c,_.a,W.a,U.a,G.t,j.b,ee.a,Z.a,Y.a,V.a,d.c,F.a,u.l,A.a,X.a,K.b]}),e}()}}]);