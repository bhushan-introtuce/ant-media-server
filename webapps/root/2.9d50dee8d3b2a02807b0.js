(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{D8EZ:function(e,a,t){"use strict";t.d(a,"b",(function(){return B})),t.d(a,"a",(function(){return z}));var r,n,i,o,c=t("OLhb"),s=t("U/Bw"),d=t("fXoL"),l=t("tyNb"),b=t("ofXK"),f=t("3Pt+"),u=function(){function e(e,a){this.validateEqual=e,this.reverse=a}return Object.defineProperty(e.prototype,"isReverse",{get:function(){return!!this.reverse&&"true"===this.reverse},enumerable:!1,configurable:!0}),e.prototype.validate=function(e){var a=e.value,t=e.root.get(this.validateEqual);return t&&a!==t.value&&!this.isReverse?{validateEqual:!1}:(t&&a===t.value&&this.isReverse&&(delete t.errors.validateEqual,Object.keys(t.errors).length||t.setErrors(null)),t&&a!==t.value&&this.isReverse&&t.setErrors({validateEqual:!1}),null)},e.\u0275fac=function(a){return new(a||e)(d.cc("validateEqual"),d.cc("reverse"))},e.\u0275dir=d.Hb({type:e,selectors:[["","validateEqual","","formControlName",""],["","validateEqual","","formControl",""],["","validateEqual","","ngModel",""]],features:[d.Ab([{provide:f.h,useExisting:Object(d.V)((function(){return e})),multi:!0}])]}),e}(),g=t("mrSG");r=$localize(g.a([":@@loginPageHeader\u241f12efc04943fff7defaf74b71469231906eb66db1\u241f2975665265293917722:Manager of Ant Media Server"],[":@@loginPageHeader\u241f12efc04943fff7defaf74b71469231906eb66db1\u241f2975665265293917722:Manager of Ant Media Server"])),n=$localize(g.a([":@@loginTitle\u241f6765b4c916060f6bc42d9bb69e80377dbcb5e4e9\u241f2454050363478003966:Login"],[":@@loginTitle\u241f6765b4c916060f6bc42d9bb69e80377dbcb5e4e9\u241f2454050363478003966:Login"])),i=$localize(g.a([":@@login_success_message\u241ff848f3c0f21c1aeac129ebb359b0a61b6685849d\u241f2808361106452778255: You can now login with your username and password "],[":@@login_success_message\u241ff848f3c0f21c1aeac129ebb359b0a61b6685849d\u241f2808361106452778255: You can now login with your username and password "])),o=$localize(g.a([":@@loginFormEmail\u241f08c74dc9762957593b91f6eb5d65efdfc975bf48\u241f5248717555542428023:Username"],[":@@loginFormEmail\u241f08c74dc9762957593b91f6eb5d65efdfc975bf48\u241f5248717555542428023:Username"]));var m,h=["placeholder",$localize(g.a([":@@email_place_holder\u241f08c74dc9762957593b91f6eb5d65efdfc975bf48\u241f5248717555542428023:Username"],[":@@email_place_holder\u241f08c74dc9762957593b91f6eb5d65efdfc975bf48\u241f5248717555542428023:Username"]))];m=$localize(g.a([":@@loginFormPassword\u241fc32ef07f8803a223a83ed17024b38e8d82292407\u241f1431416938026210429:Password"],[":@@loginFormPassword\u241fc32ef07f8803a223a83ed17024b38e8d82292407\u241f1431416938026210429:Password"]));var p,v,S,w,R,A,_,C,T,y,P,q,N=["placeholder",$localize(g.a([":@@password_place_holder\u241fc32ef07f8803a223a83ed17024b38e8d82292407\u241f1431416938026210429:Password"],[":@@password_place_holder\u241fc32ef07f8803a223a83ed17024b38e8d82292407\u241f1431416938026210429:Password"]))];function M(e,a){1&e&&(d.Sb(0,"div",30),d.Jc(1," You have 3 invalid login attempts. Please try again to login after 5 minutes "),d.Rb())}function E(e,a){if(1&e){var t=d.Tb();d.Sb(0,"div",16),d.Sb(1,"form",17),d.fc("ngSubmit",(function(){return d.zc(t),d.jc().loginUser()})),d.Sb(2,"div",18),d.Sb(3,"div",19),d.Sb(4,"h3",20),d.Wb(5,n),d.Rb(),d.Rb(),d.Sb(6,"div",21),d.Sb(7,"div",22),d.Wb(8,i),d.Rb(),d.Sb(9,"div",23),d.Sb(10,"label"),d.Wb(11,o),d.Rb(),d.Sb(12,"input",24),d.Xb(13,h),d.fc("keydown",(function(){return d.zc(t),d.jc().credentialsChanged()}))("ngModelChange",(function(e){return d.zc(t),d.jc().email=e})),d.Rb(),d.Rb(),d.Sb(14,"div",23),d.Sb(15,"label"),d.Wb(16,m),d.Rb(),d.Sb(17,"input",25),d.Xb(18,N),d.fc("keydown",(function(){return d.zc(t),d.jc().credentialsChanged()}))("ngModelChange",(function(e){return d.zc(t),d.jc().password=e})),d.Rb(),d.Rb(),d.Sb(19,"div",26),d.Wb(20,p),d.Rb(),d.Hc(21,M,2,0,"div",27),d.Rb(),d.Sb(22,"div",28),d.Sb(23,"button",29),d.Wb(24,v),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&e){var r=d.jc();d.Bb(7),d.qc("hidden",!r.showYouCanLogin),d.Bb(5),d.qc("ngModel",r.email),d.Bb(5),d.qc("ngModel",r.password),d.Bb(2),d.qc("hidden",!r.showIncorrectCredentials),d.Bb(2),d.qc("ngIf",r.blockLoginAttempt)}}function F(e,a){1&e&&d.Nb(0,"i",45)}function L(e,a){if(1&e){var t=d.Tb();d.Sb(0,"div",16),d.Sb(1,"form",31,32),d.fc("ngSubmit",(function(){d.zc(t);var e=d.xc(2);return d.jc().createFirstAccount(e.valid)})),d.Sb(3,"div",18),d.Sb(4,"div",19),d.Sb(5,"h3",20),d.Wb(6,S),d.Rb(),d.Rb(),d.Sb(7,"div",21),d.Sb(8,"div",26),d.Wb(9,w),d.Rb(),d.Sb(10,"div",23),d.Sb(11,"label"),d.ac(12,R),d.Nb(13,"span",33),d.Yb(),d.Rb(),d.Sb(14,"input",34,35),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().firstUser.fullName=e})),d.Rb(),d.Sb(16,"small",36),d.Wb(17,A),d.Rb(),d.Rb(),d.Sb(18,"div",23),d.Sb(19,"label"),d.ac(20,_),d.Nb(21,"span",33),d.Yb(),d.Rb(),d.Sb(22,"input",37,38),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().firstUser.email=e})),d.Rb(),d.Sb(24,"small",36),d.Wb(25,C),d.Rb(),d.Rb(),d.Sb(26,"div",23),d.Sb(27,"label"),d.ac(28,T),d.Nb(29,"span",33),d.Yb(),d.Rb(),d.Sb(30,"input",39,40),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().firstUser.password=e})),d.Rb(),d.Sb(32,"small",36),d.Jc(33," Password should be at least 7 characters "),d.Rb(),d.Rb(),d.Sb(34,"div",23),d.Sb(35,"label"),d.ac(36,y),d.Nb(37,"span",33),d.Yb(),d.Rb(),d.Sb(38,"input",41,42),d.fc("ngModelChange",(function(e){return d.zc(t),d.jc().temp_model_password=e})),d.Rb(),d.Sb(40,"small",36),d.Wb(41,P),d.Rb(),d.Rb(),d.Rb(),d.Sb(42,"div",28),d.Sb(43,"button",43),d.Hc(44,F,1,0,"i",44),d.Qb(45),d.Wb(46,q),d.Pb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()}if(2&e){var r=d.xc(2),n=d.xc(15),i=d.xc(23),o=d.xc(31),c=d.xc(39),s=d.jc();d.Bb(8),d.qc("hidden",!s.showFailedToCreateUserAccount),d.Bb(6),d.qc("ngModel",s.firstUser.fullName),d.Bb(2),d.qc("hidden",n.valid||n.pristine&&!r.submitted),d.Bb(6),d.qc("ngModel",s.firstUser.email),d.Bb(2),d.qc("hidden",i.valid||i.pristine&&!r.submitted),d.Bb(6),d.qc("ngModel",s.firstUser.password),d.Bb(2),d.qc("hidden",o.valid||o.pristine&&!r.submitted),d.Bb(6),d.qc("ngModel",s.temp_model_password),d.Bb(2),d.qc("hidden",c.valid||c.pristine&&!r.submitted),d.Bb(3),d.qc("disabled",s.firstUserIsCreating),d.Bb(1),d.qc("ngIf",s.firstUserIsCreating)}}p=$localize(g.a([":@@loginFormIncorrectCredentials\u241fc2065caa238009f6e696638d90084a6df8acebba\u241f2608546137371087764: Username or password is incorrect "],[":@@loginFormIncorrectCredentials\u241fc2065caa238009f6e696638d90084a6df8acebba\u241f2608546137371087764: Username or password is incorrect "])),v=$localize(g.a([":@@loginFormSubmit\u241ffc5d8d0aaf806e14bdeb676b15c1e5f8aa1e1bb5\u241f7599699486005905277:Let's go"],[":@@loginFormSubmit\u241ffc5d8d0aaf806e14bdeb676b15c1e5f8aa1e1bb5\u241f7599699486005905277:Let's go"])),S=$localize(g.a([":@@loginRegisterFirtUser\u241fc4446794678f4827db8f21735e7d1a6761b85e67\u241f3243119370514137825:Create First Account"],[":@@loginRegisterFirtUser\u241fc4446794678f4827db8f21735e7d1a6761b85e67\u241f3243119370514137825:Create First Account"])),w=$localize(g.a([":@@failed_to_create_user_account\u241f673dc001cf7a3880b3c2c3e46e531cffed87230d\u241f4222010083885156755: Failed to create user account. There can be already an user "],[":@@failed_to_create_user_account\u241f673dc001cf7a3880b3c2c3e46e531cffed87230d\u241f4222010083885156755: Failed to create user account. There can be already an user "])),R=$localize(g.a([":@@registerUserFullName\u241f3123000de0fa37bcab448debc793c2be6303ddd3\u241f7576786897212974137:Full Name",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"],[":@@registerUserFullName\u241f3123000de0fa37bcab448debc793c2be6303ddd3\u241f7576786897212974137:Full Name",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"]),"\ufffd#13\ufffd","\ufffd/#13\ufffd"),A=$localize(g.a([":@@fullNameIsRequired\u241f2cda306dd30a5976118dede21074f696d9e2ca91\u241f7959999758791759903: Full name is required and it should be at least 6 characters "],[":@@fullNameIsRequired\u241f2cda306dd30a5976118dede21074f696d9e2ca91\u241f7959999758791759903: Full name is required and it should be at least 6 characters "])),_=$localize(g.a([":@@loginFormEmail\u241fff36f4aaf5502f85904c6546a9080f42b0853771\u241f1628699073034060199:Username",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"],[":@@loginFormEmail\u241fff36f4aaf5502f85904c6546a9080f42b0853771\u241f1628699073034060199:Username",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"]),"\ufffd#21\ufffd","\ufffd/#21\ufffd"),C=$localize(g.a([":@@fistAccountEmailRequired\u241f47c7c5cead1d076732ed23242e270eeb1b53d7e3\u241f4191323508474877798: Username should be at least 5 characters "],[":@@fistAccountEmailRequired\u241f47c7c5cead1d076732ed23242e270eeb1b53d7e3\u241f4191323508474877798: Username should be at least 5 characters "])),T=$localize(g.a([":@@loginFormPassword\u241f3efa552f29bad0dd205b87d8d34e5c80b83bfd30\u241f3172670672356676867:Password",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"],[":@@loginFormPassword\u241f3efa552f29bad0dd205b87d8d34e5c80b83bfd30\u241f3172670672356676867:Password",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"]),"\ufffd#29\ufffd","\ufffd/#29\ufffd"),y=$localize(g.a([":@@loginFormPasswordAgain\u241f569c47086a19c3e6cba00272ec520d8dceebd220\u241f6878728662782982127:Confirm Password",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"],[":@@loginFormPasswordAgain\u241f569c47086a19c3e6cba00272ec520d8dceebd220\u241f6878728662782982127:Confirm Password",":START_TAG_SPAN:*",":CLOSE_TAG_SPAN:"]),"\ufffd#37\ufffd","\ufffd/#37\ufffd"),P=$localize(g.a([":@@password_mismatch\u241f8dca9c3687462da91060afcf10dcdfe0bde527aa\u241f5342941350680242950: Password mismatch "],[":@@password_mismatch\u241f8dca9c3687462da91060afcf10dcdfe0bde527aa\u241f5342941350680242950: Password mismatch "])),q=$localize(g.a([":@@createAccount\u241fe19fcf996343543e13789f17b550ab0c08124b5c\u241f1267967133679326155:Create Account"],[":@@createAccount\u241fe19fcf996343543e13789f17b550ab0c08124b5c\u241f1267967133679326155:Create Account"]));var U=function(){return["/dashboard/overview"]},B=function(){function e(e,a,t,r){this.element=e,this.auth=a,this.router=t,this.restService=r,this.test=new Date,this.email="",this.password="",this.showIncorrectCredentials=!1,this.blockLoginAttempt=!1,this.firstLogin=!1,this.nativeElement=e.nativeElement,this.sidebarVisible=!1,this.showYouCanLogin=!1,this.showFailedToCreateUserAccount=!1}return e.prototype.checkFullPageBackgroundImage=function(){var e=$(".full-page"),a=e.data("image");void 0!==a&&e.append('<div class="full-page-background" style="background-image: url('+a+') "/>')},e.prototype.ngOnInit=function(){var e=this;this.auth.isFirstLogin().subscribe((function(a){e.firstLogin=a.success,e.firstLogin&&(e.firstUser=new s.f("",""))})),this.auth.licenceWarningDisplay=!0,this.checkFullPageBackgroundImage(),this.logout(),this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggle")[0],setTimeout((function(){$(".card").removeClass("card-hidden")}),700)},e.prototype.logout=function(){localStorage.clear()},e.prototype.sidebarToggle=function(){var e=this.toggleButton,a=document.getElementsByTagName("body")[0];document.getElementsByClassName("navbar-collapse"),0==this.sidebarVisible?(setTimeout((function(){e.classList.add("toggled")}),500),a.classList.add("nav-open"),this.sidebarVisible=!0):(this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,a.classList.remove("nav-open"))},e.prototype.loginUser=function(){var e=this;this.auth.login(this.email,this.password).subscribe((function(a){1==a.success?(e.auth.isAuthenticated=a.success,localStorage.setItem("authenticated","true"),localStorage.setItem(z,e.email),e.router.navigateByUrl("/dashboard")):e.showIncorrectCredentials=!0})),this.restService.getBlockedStatus(this.email).subscribe((function(a){e.blockLoginAttempt=a.success}))},e.prototype.createFirstAccount=function(e){var a=this;console.log("is first account"),e&&(this.firstUserIsCreating=!0,this.auth.createFirstAccount(this.firstUser).subscribe((function(e){a.firstUserIsCreating=!1,1==e.success?(a.firstLogin=!1,a.showYouCanLogin=!0):a.showFailedToCreateUserAccount=!0})))},e.prototype.credentialsChanged=function(){this.showIncorrectCredentials=!1},e.\u0275fac=function(a){return new(a||e)(d.Mb(d.l),d.Mb(c.a),d.Mb(l.c),d.Mb(s.e))},e.\u0275cmp=d.Gb({type:e,selectors:[["login-cmp"]],decls:27,vars:8,consts:[[1,"navbar","navbar-transparent","navbar-absolute"],[1,"container"],[1,"navbar-header"],["type","button","data-toggle","collapse","data-target","#navigation-example-2",1,"navbar-toggle",3,"click"],[1,"sr-only"],[1,"icon-bar"],["routerLinkActive","active",1,"navbar-brand",3,"routerLink"],[1,"wrapper","wrapper-full-page"],["data-color","","data-image","../../assets/img/background/background-2.jpg",1,"full-page","login-page"],[1,"content"],[1,"row"],["class","col-md-4 col-sm-6 col-md-offset-4 col-sm-offset-3",4,"ngIf"],[1,"footer","footer-transparent"],[1,"copyright"],[1,"fa","fa-heart","heart"],["href","http://antmedia.io"],[1,"col-md-4","col-sm-6","col-md-offset-4","col-sm-offset-3"],[3,"ngSubmit"],["data-background","color","data-color","blue",1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"form-group","text-success","text-center",3,"hidden"],[1,"form-group"],["type","email","name","email",1,"form-control","input-no-border",3,"ngModel","keydown","ngModelChange",6,"placeholder"],["type","password","name","password",1,"form-control","input-no-border",3,"ngModel","keydown","ngModelChange",6,"placeholder"],[1,"form-group","text-danger","text-center",3,"hidden"],["class","form-group text-danger text-center",4,"ngIf"],[1,"card-footer","text-center"],["type","submit",1,"btn","btn-fill","btn-wd"],[1,"form-group","text-danger","text-center"],["novalidate","",3,"ngSubmit"],["registerForm","ngForm"],[1,"star"],["type","text","name","fullname","required","","minlength","6",1,"form-control","input-no-border",3,"ngModel","ngModelChange"],["fullName","ngModel"],[1,"text-danger",3,"hidden"],["type","email","name","firstEmail","required","","minlength","5",1,"form-control","input-no-border",3,"ngModel","ngModelChange"],["firstAccountEmail","ngModel"],["type","password","name","first_password","required","","minlength","7","reverse","true","validateEqual","first_password_again",1,"form-control","input-no-border",3,"ngModel","ngModelChange"],["firstPassword","ngModel"],["type","password","name","first_password_again","required","","reverse","false","validateEqual","first_password",1,"form-control","input-no-border",3,"ngModel","ngModelChange"],["firstPasswordAgain","ngModel"],["type","submit",1,"btn","btn-fill","btn-wd",3,"disabled"],["class","fa fa-spinner fa-pulse fa-1x fa-fw","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"fa","fa-spinner","fa-pulse","fa-1x","fa-fw"]],template:function(e,a){1&e&&(d.Sb(0,"nav",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"button",3),d.fc("click",(function(){return a.sidebarToggle()})),d.Sb(4,"span",4),d.Jc(5,"Toggle navigation"),d.Rb(),d.Nb(6,"span",5),d.Nb(7,"span",5),d.Nb(8,"span",5),d.Rb(),d.Sb(9,"a",6),d.Wb(10,r),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Sb(11,"div",7),d.Sb(12,"div",8),d.Sb(13,"div",9),d.Sb(14,"div",1),d.Sb(15,"div",10),d.Hc(16,E,25,5,"div",11),d.Hc(17,L,47,11,"div",11),d.Rb(),d.Rb(),d.Rb(),d.Sb(18,"footer",12),d.Sb(19,"div",1),d.Sb(20,"div",13),d.Jc(21),d.kc(22,"date"),d.Nb(23,"i",14),d.Jc(24," by "),d.Sb(25,"a",15),d.Jc(26,"AntMedia"),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&e&&(d.Bb(9),d.qc("routerLink",d.tc(7,U)),d.Bb(7),d.qc("ngIf",!a.firstLogin),d.Bb(1),d.qc("ngIf",a.firstLogin),d.Bb(4),d.Lc(" \xa9 ",d.mc(22,4,a.test,"yyyy")," "))},directives:[l.e,l.d,b.n,f.x,f.l,f.m,f.d,f.k,f.n,f.t,f.g,u],pipes:[b.f],encapsulation:2}),e}(),z="email"}}]);